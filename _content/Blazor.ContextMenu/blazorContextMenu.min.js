"use strict";var blazorContextMenu=function(s){var a=null;a=window.Element&&!Element.prototype.closest?function(e,t){var n,i=(e.document||e.ownerDocument).querySelectorAll(t);do{for(n=i.length;0<=--n&&i.item(n)!==e;);}while(n<0&&(e=e.parentElement));return e}:function(e,t){return e.closest(t)};var h=[];function u(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var d=null;s.SetMenuHandlerReference=function(e){d||(d=e)};var o=function(e,t,n){var i=u();h.push({id:t,target:n,instanceId:i}),e.dataset.instanceId=i};s.ManualShow=function(e,t,n){var i=document.getElementById(e);if(!i)throw new Error("No context menu with id '"+e+"' was found");o(i,e,null),c(i,e,t,n,null,null)},s.OnContextMenu=function(e,t,n){var i=document.getElementById(t);if(!i)throw new Error("No context menu with id '"+t+"' was found");o(i,t,e.target);var r=JSON.parse(e.currentTarget.dataset.dotnetref);return c(i,t,e.x,e.y,e.target,r),e.preventDefault(),n&&e.stopPropagation(),!1};var c=function(e,t,n,i,r,o){return s.Show(t,n,i,r,o).then(function(){0<e.offsetLeft+e.clientWidth-window.innerWidth&&(e.style.left=e.offsetLeft-e.clientWidth+"px"),0<e.offsetTop+e.clientHeight-window.innerHeight&&(e.style.top=e.offsetTop-e.clientHeight+"px")})};s.Init=function(){function t(e,t){if(0<h.length)for(var n=0;n<h.length;n++){var i=h[n],r=document.getElementById(i.id);if(r&&"true"==r.dataset.autohide&&r.dataset.autohideevent==t)r.contains(e.target)||s.Hide(i.id)}}document.addEventListener("mouseup",function(e){t(e,"mouseup")}),document.addEventListener("mousedown",function(e){t(e,"mousedown")}),window.addEventListener("resize",function(){if(0<h.length)for(var e=0;e<h.length;e++){var t=h[e],n=document.getElementById(t.id);n&&"true"==n.dataset.autohide&&s.Hide(t.id)}},!0)},s.Show=function(e,t,n,i,r){var o=null;return i&&(i.id||(i.id=u()),o=i.id),d.invokeMethodAsync("ShowMenu",e,t.toString(),n.toString(),o,r)},s.Hide=function(e){var n=document.getElementById(e),i=n.dataset.instanceId;return d.invokeMethodAsync("HideMenu",e).then(function(e){if(n.classList.contains("blazor-context-menu")&&e){var t=h.find(function(e){return e.instanceId==i});t&&function(e,t){for(var n=0;n<e.length;n++)e[n]===t&&e.splice(n,1)}(h,t)}})},s.IsMenuShown=function(e){var t=document.getElementById(e).dataset.instanceId,n=h.find(function(e){return e.instanceId==t});return void 0!==n&&null!=n};var v=null;return s.OnMenuItemMouseOver=function(e,c,l){if(a(e.target,".blazor-context-menu__wrapper")==a(l,".blazor-context-menu__wrapper")&&"true"==l.getAttribute("itemEnabled")){var o,f=(o=null,function e(t,n,i){for(var r=0;r<t.children.length&&!i;r++){if(t.children[r].classList.contains(n)){i=!0,o=t.children[r];break}if(i)break;e(t.children[r],n,i)}}(l,"blazor-context-submenu",!1),o);f&&(v=setTimeout(function(){v=null;var i=a(l,".blazor-context-menu__wrapper"),d=i.children[0],e=a(l,".blazor-context-menu"),t=l.getBoundingClientRect(),n=t.left+i.clientWidth-c,r=t.top,o=e.dataset.instanceId,u=h.find(function(e){return e.instanceId==o});s.Show(f.id,n,r,u.target).then(function(){0<f.offsetLeft+f.clientWidth-window.innerWidth&&(f.style.left=f.offsetLeft-f.clientWidth-i.clientWidth-c+"px");var e=f.offsetTop+f.clientHeight-window.innerHeight;0<e&&(f.style.top=f.offsetTop-e+"px");for(var a=function(){for(var e,t,r,n=(e=l,t="blazor-context-submenu",r=new Array,function e(t,n){for(var i=0;i<t.children.length;i++)t.children[i].classList.contains(n)&&r.push(t.children[i]),e(t.children[i],n)}(e,t),r),i=n.length;i--;){var o=n[i];s.Hide(o.id)}for(i=d.childNodes.length;i--;){var u=d.children[i];u!=l&&u.removeEventListener("mouseover",a)}},t=d.childNodes.length;t--;){var n=d.childNodes[t];n!=l&&n.addEventListener("mouseover",a)}})},200))}},s.OnMenuItemMouseOut=function(e){v&&clearTimeout(v)},s.RegisterTriggerReference=function(e,t){e&&(e.dataset.dotnetref=JSON.stringify(t.serializeAsArg()))},s}({});blazorContextMenu.Init();